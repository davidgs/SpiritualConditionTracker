{"ast":null,"code":"var _Asset=require(\"./Asset\");var _PlatformUtils=require(\"./PlatformUtils\");var _resolveAssetSource=_interopRequireWildcard(require(\"./resolveAssetSource\"));function _interopRequireWildcard(e,t){if(\"function\"==typeof WeakMap)var r=new WeakMap(),n=new WeakMap();return(_interopRequireWildcard=function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f);}for(var _t in e)\"default\"!==_t&&{}.hasOwnProperty.call(e,_t)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,_t))&&(i.get||i.set)?o(f,_t,i):f[_t]=e[_t]);return f;})(e,t);}if(_PlatformUtils.IS_ENV_WITH_LOCAL_ASSETS){var setTransformer=_resolveAssetSource.default.setCustomSourceTransformer||_resolveAssetSource.setCustomSourceTransformer;setTransformer(function(resolver){try{if('fileHashes'in resolver.asset&&resolver.asset.fileHashes){var asset=_Asset.Asset.fromMetadata(resolver.asset);if(asset.uri.startsWith(_Asset.ANDROID_EMBEDDED_URL_BASE_RESOURCE)){return resolver.resourceIdentifierWithoutScale();}return resolver.fromSource(asset.downloaded?asset.localUri:asset.uri);}else{return resolver.defaultAsset();}}catch(_unused){return resolver.defaultAsset();}});}","map":{"version":3,"names":["_Asset","require","_PlatformUtils","_resolveAssetSource","_interopRequireWildcard","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","IS_ENV_WITH_LOCAL_ASSETS","setTransformer","resolveAssetSource","setCustomSourceTransformer","resolver","asset","fileHashes","Asset","fromMetadata","uri","startsWith","ANDROID_EMBEDDED_URL_BASE_RESOURCE","resourceIdentifierWithoutScale","fromSource","downloaded","localUri","defaultAsset","_unused"],"sources":["/home/runner/workspace/node_modules/expo-asset/src/Asset.fx.ts"],"sourcesContent":["import type { default as AssetSourceResolver } from 'react-native/Libraries/Image/AssetSourceResolver';\n\nimport { Asset, ANDROID_EMBEDDED_URL_BASE_RESOURCE } from './Asset';\nimport { IS_ENV_WITH_LOCAL_ASSETS } from './PlatformUtils';\nimport resolveAssetSource, { setCustomSourceTransformer } from './resolveAssetSource';\n\n// Override React Native's asset resolution for `Image` components in contexts where it matters\nif (IS_ENV_WITH_LOCAL_ASSETS) {\n  const setTransformer =\n    resolveAssetSource.setCustomSourceTransformer || setCustomSourceTransformer;\n  setTransformer((resolver) => {\n    try {\n      // Bundler is using the hashAssetFiles plugin if and only if the fileHashes property exists\n      if ('fileHashes' in resolver.asset && resolver.asset.fileHashes) {\n        const asset = Asset.fromMetadata(resolver.asset);\n        if (asset.uri.startsWith(ANDROID_EMBEDDED_URL_BASE_RESOURCE)) {\n          // TODO(@kitten): See https://github.com/expo/expo/commit/ec940b57a87d99ab4f1d06d87126e662c3f04f04#r155340943\n          // It's unclear whether this is sound since this may be our own AssetSourceResolver, which doesn't have this method\n          // Please compare `AssetSourceResolver` type from `react-native/Libraries/Image/AssetSourceResolver` against `./AssetSourceResolver`\n          return (\n            resolver as unknown as AssetSourceResolver\n          ).resourceIdentifierWithoutScale() as any;\n        }\n        return resolver.fromSource(asset.downloaded ? asset.localUri! : asset.uri);\n      } else {\n        return resolver.defaultAsset();\n      }\n    } catch {\n      return resolver.defaultAsset();\n    }\n  });\n}\n"],"mappings":"AAEA,IAAAA,MAAA,CAAAC,OAAA,YACA,IAAAC,cAAA,CAAAD,OAAA,oBACA,IAAAE,mBAAA,CAAAC,uBAAA,CAAAH,OAAA,0BAAsF,SAAAG,wBAAAC,CAAA,CAAAC,CAAA,wBAAAC,OAAA,KAAAC,CAAA,KAAAD,OAAA,GAAAE,CAAA,KAAAF,OAAA,UAAAH,uBAAA,UAAAA,wBAAAC,CAAA,CAAAC,CAAA,MAAAA,CAAA,EAAAD,CAAA,EAAAA,CAAA,CAAAK,UAAA,QAAAL,CAAA,KAAAM,CAAA,CAAAC,CAAA,CAAAC,CAAA,EAAAC,SAAA,MAAAC,OAAA,CAAAV,CAAA,YAAAA,CAAA,mBAAAA,CAAA,qBAAAA,CAAA,QAAAQ,CAAA,IAAAF,CAAA,CAAAL,CAAA,CAAAG,CAAA,CAAAD,CAAA,KAAAG,CAAA,CAAAK,GAAA,CAAAX,CAAA,SAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,EAAAM,CAAA,CAAAO,GAAA,CAAAb,CAAA,CAAAQ,CAAA,WAAAM,EAAA,IAAAd,CAAA,aAAAc,EAAA,KAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,CAAAc,EAAA,KAAAP,CAAA,EAAAD,CAAA,CAAAW,MAAA,CAAAC,cAAA,GAAAD,MAAA,CAAAE,wBAAA,CAAAnB,CAAA,CAAAc,EAAA,KAAAP,CAAA,CAAAK,GAAA,EAAAL,CAAA,CAAAM,GAAA,EAAAP,CAAA,CAAAE,CAAA,CAAAM,EAAA,CAAAP,CAAA,EAAAC,CAAA,CAAAM,EAAA,EAAAd,CAAA,CAAAc,EAAA,UAAAN,CAAA,IAAAR,CAAA,CAAAC,CAAA,GAGtF,GAAImB,uCAAwB,CAAE,CAC5B,GAAM,CAAAC,cAAc,CAClBC,2BAAkB,CAACC,0BAA0B,EAAIA,8CAA0B,CAC7EF,cAAc,CAAC,SAACG,QAAQ,CAAI,CAC1B,GAAI,CAEF,GAAI,YAAY,EAAI,CAAAA,QAAQ,CAACC,KAAK,EAAID,QAAQ,CAACC,KAAK,CAACC,UAAU,CAAE,CAC/D,GAAM,CAAAD,KAAK,CAAGE,YAAK,CAACC,YAAY,CAACJ,QAAQ,CAACC,KAAK,CAAC,CAChD,GAAIA,KAAK,CAACI,GAAG,CAACC,UAAU,CAACC,yCAAkC,CAAC,CAAE,CAI5D,MACE,CAAAP,QACD,CAACQ,8BAA8B,EAAS,CAC3C,CACA,MAAO,CAAAR,QAAQ,CAACS,UAAU,CAACR,KAAK,CAACS,UAAU,CAAGT,KAAK,CAACU,QAAS,CAAGV,KAAK,CAACI,GAAG,CAAC,CAC5E,CAAC,IAAM,CACL,MAAO,CAAAL,QAAQ,CAACY,YAAY,EAAE,CAChC,CACF,CAAE,MAAAC,OAAA,CAAM,CACN,MAAO,CAAAb,QAAQ,CAACY,YAAY,EAAE,CAChC,CACF,CAAC,CAAC,CACJ","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}