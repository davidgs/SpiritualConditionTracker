{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.useUser=exports.default=exports.UserProvider=void 0;var _asyncToGenerator2=_interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _react=_interopRequireWildcard(require(\"react\"));var _reactNative=require(\"react-native\");var _database=require(\"../utils/database\");var _jsxRuntime=require(\"react/jsx-runtime\");function _interopRequireWildcard(e,t){if(\"function\"==typeof WeakMap)var r=new WeakMap(),n=new WeakMap();return(_interopRequireWildcard=function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f);}for(var _t in e)\"default\"!==_t&&{}.hasOwnProperty.call(e,_t)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,_t))&&(i.get||i.set)?o(f,_t,i):f[_t]=e[_t]);return f;})(e,t);}var UserContext=(0,_react.createContext)();var UserProvider=exports.UserProvider=function UserProvider(_ref){var children=_ref.children;var _useState=(0,_react.useState)(null),_useState2=(0,_slicedToArray2.default)(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=(0,_react.useState)(true),_useState4=(0,_slicedToArray2.default)(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=(0,_react.useState)(null),_useState6=(0,_slicedToArray2.default)(_useState5,2),spiritualFitness=_useState6[0],setSpiritualFitness=_useState6[1];var _useState7=(0,_react.useState)([]),_useState8=(0,_slicedToArray2.default)(_useState7,2),recentActivities=_useState8[0],setRecentActivities=_useState8[1];(0,_react.useEffect)(function(){var initialize=function(){var _ref2=(0,_asyncToGenerator2.default)(function*(){try{yield(0,_database.initDatabase)();var users=yield _database.userOperations.getAll();if(users&&users.length>0){setUser(users[0]);yield loadSpiritualFitness(users[0].id);yield loadRecentActivities(users[0].id);}else{var defaultUser={name:'AA Member',email:'',phone:'',sobrietyDate:new Date().toISOString().split('T')[0],homeGroup:'',profileSettings:{privacyEnabled:true,notificationsEnabled:true,reminderTime:30}};var newUser=yield _database.userOperations.create(defaultUser);setUser(newUser);}}catch(error){console.error('Error initializing app:',error);_reactNative.Alert.alert('Error','Failed to initialize the app. Please restart the app and try again.');}finally{setIsLoading(false);}});return function initialize(){return _ref2.apply(this,arguments);};}();initialize();},[]);var loadSpiritualFitness=function(){var _ref3=(0,_asyncToGenerator2.default)(function*(userId){try{var fitness=yield _database.spiritualFitnessOperations.getForUser(userId);setSpiritualFitness(fitness||{score:0,breakdown:{}});}catch(error){console.error('Error loading spiritual fitness:',error);}});return function loadSpiritualFitness(_x){return _ref3.apply(this,arguments);};}();var loadRecentActivities=function(){var _ref4=(0,_asyncToGenerator2.default)(function*(userId){try{var activities=yield _database.activityOperations.getAll({userId:userId,limit:50});setRecentActivities(activities);}catch(error){console.error('Error loading recent activities:',error);}});return function loadRecentActivities(_x2){return _ref4.apply(this,arguments);};}();var updateUserProfile=function(){var _ref5=(0,_asyncToGenerator2.default)(function*(updates){try{if(!user)return null;var updatedUser=yield _database.userOperations.update(user.id,updates);setUser(updatedUser);return updatedUser;}catch(error){console.error('Error updating user profile:',error);_reactNative.Alert.alert('Error','Failed to update profile. Please try again.');return null;}});return function updateUserProfile(_x3){return _ref5.apply(this,arguments);};}();var logActivity=function(){var _ref6=(0,_asyncToGenerator2.default)(function*(activity){try{if(!user)return null;var activityWithUser=Object.assign({},activity,{userId:user.id});var newActivity=yield _database.activityOperations.create(activityWithUser);yield loadRecentActivities(user.id);yield recalculateSpiritualFitness();return newActivity;}catch(error){console.error('Error logging activity:',error);_reactNative.Alert.alert('Error','Failed to log activity. Please try again.');return null;}});return function logActivity(_x4){return _ref6.apply(this,arguments);};}();var deleteActivity=function(){var _ref7=(0,_asyncToGenerator2.default)(function*(activityId){try{var success=yield _database.activityOperations.delete(activityId);if(success){yield loadRecentActivities(user.id);yield recalculateSpiritualFitness();}return success;}catch(error){console.error('Error deleting activity:',error);_reactNative.Alert.alert('Error','Failed to delete activity. Please try again.');return false;}});return function deleteActivity(_x5){return _ref7.apply(this,arguments);};}();var recalculateSpiritualFitness=function(){var _ref8=(0,_asyncToGenerator2.default)(function*(){try{if(!user)return null;var allActivities=yield _database.activityOperations.getAll({userId:user.id});var fitness=yield _database.spiritualFitnessOperations.calculateAndSave(user.id,allActivities);setSpiritualFitness(fitness);return fitness;}catch(error){console.error('Error recalculating spiritual fitness:',error);return null;}});return function recalculateSpiritualFitness(){return _ref8.apply(this,arguments);};}();var contextValue={user:user,isLoading:isLoading,spiritualFitness:spiritualFitness,recentActivities:recentActivities,updateUserProfile:updateUserProfile,logActivity:logActivity,deleteActivity:deleteActivity,recalculateSpiritualFitness:recalculateSpiritualFitness,loadRecentActivities:loadRecentActivities};return(0,_jsxRuntime.jsx)(UserContext.Provider,{value:contextValue,children:children});};var useUser=exports.useUser=function useUser(){var context=(0,_react.useContext)(UserContext);if(!context){throw new Error('useUser must be used within a UserProvider');}return context;};var _default=exports.default=UserContext;","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_database","_jsxRuntime","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","UserContext","createContext","UserProvider","exports","_ref","children","_useState","useState","_useState2","_slicedToArray2","user","setUser","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","spiritualFitness","setSpiritualFitness","_useState7","_useState8","recentActivities","setRecentActivities","useEffect","initialize","_ref2","_asyncToGenerator2","initDatabase","users","userOperations","getAll","length","loadSpiritualFitness","id","loadRecentActivities","defaultUser","name","email","phone","sobrietyDate","Date","toISOString","split","homeGroup","profileSettings","privacyEnabled","notificationsEnabled","reminderTime","newUser","create","error","console","Alert","alert","apply","arguments","_ref3","userId","fitness","spiritualFitnessOperations","getForUser","score","breakdown","_x","_ref4","activities","activityOperations","limit","_x2","updateUserProfile","_ref5","updates","updatedUser","update","_x3","logActivity","_ref6","activity","activityWithUser","assign","newActivity","recalculateSpiritualFitness","_x4","deleteActivity","_ref7","activityId","success","delete","_x5","_ref8","allActivities","calculateAndSave","contextValue","jsx","Provider","value","useUser","context","useContext","Error","_default"],"sources":["/home/runner/workspace/src/contexts/UserContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from 'react';\nimport { Alert } from 'react-native';\n\nimport { \n  initDatabase, \n  userOperations, \n  activityOperations,\n  spiritualFitnessOperations\n} from '../utils/database';\n\n// Create the context\nconst UserContext = createContext();\n\n// Provider component\nexport const UserProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [spiritualFitness, setSpiritualFitness] = useState(null);\n  const [recentActivities, setRecentActivities] = useState([]);\n\n  // Initialize database and load user data\n  useEffect(() => {\n    const initialize = async () => {\n      try {\n        // Initialize the database\n        await initDatabase();\n\n        // Check if there's a user in the database already\n        const users = await userOperations.getAll();\n        \n        if (users && users.length > 0) {\n          // Use the first user (for simplicity, we'll assume single-user app for now)\n          setUser(users[0]);\n          \n          // Load spiritual fitness data\n          await loadSpiritualFitness(users[0].id);\n          \n          // Load recent activities\n          await loadRecentActivities(users[0].id);\n        } else {\n          // Create a default user if none exists\n          const defaultUser = {\n            name: 'AA Member',\n            email: '',\n            phone: '',\n            sobrietyDate: new Date().toISOString().split('T')[0],\n            homeGroup: '',\n            profileSettings: {\n              privacyEnabled: true,\n              notificationsEnabled: true,\n              reminderTime: 30 // minutes before meeting\n            }\n          };\n          \n          const newUser = await userOperations.create(defaultUser);\n          setUser(newUser);\n        }\n      } catch (error) {\n        console.error('Error initializing app:', error);\n        Alert.alert('Error', 'Failed to initialize the app. Please restart the app and try again.');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    initialize();\n  }, []);\n\n  /**\n   * Load spiritual fitness data for a user\n   */\n  const loadSpiritualFitness = async (userId) => {\n    try {\n      const fitness = await spiritualFitnessOperations.getForUser(userId);\n      setSpiritualFitness(fitness || { score: 0, breakdown: {} });\n    } catch (error) {\n      console.error('Error loading spiritual fitness:', error);\n    }\n  };\n\n  /**\n   * Load recent activities for a user\n   */\n  const loadRecentActivities = async (userId) => {\n    try {\n      const activities = await activityOperations.getAll({ \n        userId, \n        limit: 50 \n      });\n      setRecentActivities(activities);\n    } catch (error) {\n      console.error('Error loading recent activities:', error);\n    }\n  };\n\n  /**\n   * Update user profile\n   */\n  const updateUserProfile = async (updates) => {\n    try {\n      if (!user) return null;\n      \n      const updatedUser = await userOperations.update(user.id, updates);\n      setUser(updatedUser);\n      return updatedUser;\n    } catch (error) {\n      console.error('Error updating user profile:', error);\n      Alert.alert('Error', 'Failed to update profile. Please try again.');\n      return null;\n    }\n  };\n\n  /**\n   * Log a new activity\n   */\n  const logActivity = async (activity) => {\n    try {\n      if (!user) return null;\n      \n      // Add user ID to activity\n      const activityWithUser = {\n        ...activity,\n        userId: user.id\n      };\n      \n      // Save to database\n      const newActivity = await activityOperations.create(activityWithUser);\n      \n      // Refresh activities list\n      await loadRecentActivities(user.id);\n      \n      // Recalculate spiritual fitness\n      await recalculateSpiritualFitness();\n      \n      return newActivity;\n    } catch (error) {\n      console.error('Error logging activity:', error);\n      Alert.alert('Error', 'Failed to log activity. Please try again.');\n      return null;\n    }\n  };\n\n  /**\n   * Delete an activity\n   */\n  const deleteActivity = async (activityId) => {\n    try {\n      const success = await activityOperations.delete(activityId);\n      \n      if (success) {\n        // Refresh activities list\n        await loadRecentActivities(user.id);\n        \n        // Recalculate spiritual fitness\n        await recalculateSpiritualFitness();\n      }\n      \n      return success;\n    } catch (error) {\n      console.error('Error deleting activity:', error);\n      Alert.alert('Error', 'Failed to delete activity. Please try again.');\n      return false;\n    }\n  };\n\n  /**\n   * Recalculate spiritual fitness\n   */\n  const recalculateSpiritualFitness = async () => {\n    try {\n      if (!user) return null;\n      \n      // Get all activities for calculation\n      const allActivities = await activityOperations.getAll({ userId: user.id });\n      \n      // Calculate and save spiritual fitness\n      const fitness = await spiritualFitnessOperations.calculateAndSave(user.id, allActivities);\n      \n      // Update state\n      setSpiritualFitness(fitness);\n      \n      return fitness;\n    } catch (error) {\n      console.error('Error recalculating spiritual fitness:', error);\n      return null;\n    }\n  };\n\n  // Context value\n  const contextValue = {\n    user,\n    isLoading,\n    spiritualFitness,\n    recentActivities,\n    updateUserProfile,\n    logActivity,\n    deleteActivity,\n    recalculateSpiritualFitness,\n    loadRecentActivities\n  };\n\n  return (\n    <UserContext.Provider value={contextValue}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n\n// Custom hook to use the user context\nexport const useUser = () => {\n  const context = useContext(UserContext);\n  if (!context) {\n    throw new Error('useUser must be used within a UserProvider');\n  }\n  return context;\n};\n\nexport default UserContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}