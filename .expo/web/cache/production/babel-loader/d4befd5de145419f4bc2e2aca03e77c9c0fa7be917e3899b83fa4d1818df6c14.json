{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _react=_interopRequireDefault(require(\"react\"));var _reactNative=require(\"react-native\");var _AnimatedText=_interopRequireDefault(require(\"../../Typography/AnimatedText\"));var _helpers=require(\"../helpers\");var InputLabel=function InputLabel(props){var labeled=props.labeled,wiggle=props.wiggle,error=props.error,focused=props.focused,opacity=props.opacity,labelLayoutWidth=props.labelLayoutWidth,labelLayoutHeight=props.labelLayoutHeight,labelBackground=props.labelBackground,label=props.label,labelError=props.labelError,onLayoutAnimatedText=props.onLayoutAnimatedText,onLabelTextLayout=props.onLabelTextLayout,hasActiveOutline=props.hasActiveOutline,activeColor=props.activeColor,placeholderStyle=props.placeholderStyle,baseLabelTranslateX=props.baseLabelTranslateX,baseLabelTranslateY=props.baseLabelTranslateY,font=props.font,fontSize=props.fontSize,lineHeight=props.lineHeight,fontWeight=props.fontWeight,placeholderOpacity=props.placeholderOpacity,wiggleOffsetX=props.wiggleOffsetX,labelScale=props.labelScale,topPosition=props.topPosition,paddingLeft=props.paddingLeft,paddingRight=props.paddingRight,backgroundColor=props.backgroundColor,roundness=props.roundness,placeholderColor=props.placeholderColor,errorColor=props.errorColor,labelTranslationXOffset=props.labelTranslationXOffset,maxFontSizeMultiplier=props.maxFontSizeMultiplier,testID=props.testID,isV3=props.isV3,inputContainerLayout=props.inputContainerLayout,scaledLabel=props.scaledLabel;var _getConstants=(0,_helpers.getConstants)(isV3),INPUT_PADDING_HORIZONTAL=_getConstants.INPUT_PADDING_HORIZONTAL;var _useWindowDimensions=(0,_reactNative.useWindowDimensions)(),width=_useWindowDimensions.width;var paddingOffset=paddingLeft&&paddingRight?{paddingLeft:paddingLeft,paddingRight:paddingRight}:{};var labelTranslationX={transform:[{translateX:labeled.interpolate({inputRange:[0,1],outputRange:[baseLabelTranslateX,labelTranslationXOffset||0]})}]};var labelStyle=Object.assign({},font,{fontSize:fontSize,lineHeight:lineHeight,fontWeight:fontWeight,opacity:labeled.interpolate({inputRange:[0,1],outputRange:[hasActiveOutline?1:0,0]}),transform:[{translateX:wiggle?error.interpolate({inputRange:[0,0.5,1],outputRange:[0,wiggleOffsetX,0]}):0},{translateY:baseLabelTranslateY!==0?labeled.interpolate({inputRange:[0,1],outputRange:[baseLabelTranslateY,0]}):0},{scale:labelScale!==0?labeled.interpolate({inputRange:[0,1],outputRange:[labelScale,1]}):labeled}]});var labelWidth=(inputContainerLayout.width+INPUT_PADDING_HORIZONTAL/2)/(scaledLabel?labelScale:1);var commonStyles=[placeholderStyle,{top:topPosition},{maxWidth:labelWidth},labelStyle,paddingOffset||{}];var textColor=labelError&&errorColor?errorColor:placeholderColor;return(_react.default.createElement(_reactNative.View,{pointerEvents:\"none\",style:[_reactNative.StyleSheet.absoluteFill,styles.overflow,styles.labelContainer]},_react.default.createElement(_reactNative.Animated.View,{pointerEvents:\"none\",style:[_reactNative.StyleSheet.absoluteFill,_reactNative.Platform.OS!=='web'&&{width:width},{opacity:opacity},labelTranslationX]},_react.default.createElement(_reactNative.View,{style:{width:labelWidth}},labelBackground===null||labelBackground===void 0?void 0:labelBackground({labeled:labeled,labelLayoutWidth:labelLayoutWidth,labelLayoutHeight:labelLayoutHeight,labelStyle:labelStyle,placeholderStyle:placeholderStyle,baseLabelTranslateX:baseLabelTranslateX,topPosition:topPosition,label:label,backgroundColor:backgroundColor,roundness:roundness,maxFontSizeMultiplier:maxFontSizeMultiplier,testID:testID}),_react.default.createElement(_AnimatedText.default,{variant:\"bodySmall\",onLayout:onLayoutAnimatedText,onTextLayout:onLabelTextLayout,style:[commonStyles,{color:activeColor}],numberOfLines:1,maxFontSizeMultiplier:maxFontSizeMultiplier,testID:`${testID}-label-active`},label),_react.default.createElement(_AnimatedText.default,{variant:focused?'bodyLarge':'bodySmall',style:[commonStyles,{color:textColor,opacity:placeholderOpacity}],numberOfLines:1,maxFontSizeMultiplier:maxFontSizeMultiplier,testID:`${testID}-label-inactive`},label)))));};var styles=_reactNative.StyleSheet.create({overflow:{overflow:'hidden'},labelContainer:{zIndex:3}});var _default=exports.default=_react.default.memo(InputLabel);","map":{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_AnimatedText","_helpers","InputLabel","props","labeled","wiggle","error","focused","opacity","labelLayoutWidth","labelLayoutHeight","labelBackground","label","labelError","onLayoutAnimatedText","onLabelTextLayout","hasActiveOutline","activeColor","placeholderStyle","baseLabelTranslateX","baseLabelTranslateY","font","fontSize","lineHeight","fontWeight","placeholderOpacity","wiggleOffsetX","labelScale","topPosition","paddingLeft","paddingRight","backgroundColor","roundness","placeholderColor","errorColor","labelTranslationXOffset","maxFontSizeMultiplier","testID","isV3","inputContainerLayout","scaledLabel","_getConstants","getConstants","INPUT_PADDING_HORIZONTAL","_useWindowDimensions","useWindowDimensions","width","paddingOffset","labelTranslationX","transform","translateX","interpolate","inputRange","outputRange","labelStyle","Object","assign","translateY","scale","labelWidth","commonStyles","top","maxWidth","textColor","React","createElement","View","pointerEvents","style","StyleSheet","absoluteFill","styles","overflow","labelContainer","Animated","Platform","OS","AnimatedText","variant","onLayout","onTextLayout","color","numberOfLines","create","zIndex","_default","exports","default","memo"],"sources":["/home/runner/workspace/node_modules/react-native-paper/src/components/TextInput/Label/InputLabel.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  Animated,\n  ColorValue,\n  Platform,\n  StyleSheet,\n  useWindowDimensions,\n  View,\n} from 'react-native';\n\nimport AnimatedText from '../../Typography/AnimatedText';\nimport { getConstants } from '../helpers';\nimport type { InputLabelProps } from '../types';\n\nconst InputLabel = (props: InputLabelProps) => {\n  const {\n    labeled,\n    wiggle,\n    error,\n    focused,\n    opacity,\n    labelLayoutWidth,\n    labelLayoutHeight,\n    labelBackground,\n    label,\n    labelError,\n    onLayoutAnimatedText,\n    onLabelTextLayout,\n    hasActiveOutline,\n    activeColor,\n    placeholderStyle,\n    baseLabelTranslateX,\n    baseLabelTranslateY,\n    font,\n    fontSize,\n    lineHeight,\n    fontWeight,\n    placeholderOpacity,\n    wiggleOffsetX,\n    labelScale,\n    topPosition,\n    paddingLeft,\n    paddingRight,\n    backgroundColor,\n    roundness,\n    placeholderColor,\n    errorColor,\n    labelTranslationXOffset,\n    maxFontSizeMultiplier,\n    testID,\n    isV3,\n    inputContainerLayout,\n    scaledLabel,\n  } = props;\n\n  const { INPUT_PADDING_HORIZONTAL } = getConstants(isV3);\n  const { width } = useWindowDimensions();\n\n  const paddingOffset =\n    paddingLeft && paddingRight ? { paddingLeft, paddingRight } : {};\n\n  const labelTranslationX = {\n    transform: [\n      {\n        // Offset label scale since RN doesn't support transform origin\n        translateX: labeled.interpolate({\n          inputRange: [0, 1],\n          outputRange: [baseLabelTranslateX, labelTranslationXOffset || 0],\n        }),\n      },\n    ],\n  };\n\n  const labelStyle = {\n    ...font,\n    fontSize,\n    lineHeight,\n    fontWeight,\n    opacity: labeled.interpolate({\n      inputRange: [0, 1],\n      outputRange: [hasActiveOutline ? 1 : 0, 0],\n    }),\n    transform: [\n      {\n        // Wiggle the label when there's an error\n        translateX: wiggle\n          ? error.interpolate({\n              inputRange: [0, 0.5, 1],\n              outputRange: [0, wiggleOffsetX, 0],\n            })\n          : 0,\n      },\n      {\n        // Move label to top\n        translateY:\n          baseLabelTranslateY !== 0\n            ? labeled.interpolate({\n                inputRange: [0, 1],\n                outputRange: [baseLabelTranslateY, 0],\n              })\n            : 0,\n      },\n      {\n        // Make label smaller\n        scale:\n          labelScale !== 0\n            ? labeled.interpolate({\n                inputRange: [0, 1],\n                outputRange: [labelScale, 1],\n              })\n            : labeled,\n      },\n    ],\n  };\n\n  const labelWidth =\n    (inputContainerLayout.width + INPUT_PADDING_HORIZONTAL / 2) /\n    (scaledLabel ? labelScale : 1);\n\n  const commonStyles = [\n    placeholderStyle,\n    {\n      top: topPosition,\n    },\n    {\n      maxWidth: labelWidth,\n    },\n    labelStyle,\n    paddingOffset || {},\n  ];\n\n  const textColor = (\n    labelError && errorColor ? errorColor : placeholderColor\n  ) as ColorValue;\n\n  return (\n    // Position colored placeholder and gray placeholder on top of each other and crossfade them\n    // This gives the effect of animating the color, but allows us to use native driver\n    <View\n      pointerEvents=\"none\"\n      style={[StyleSheet.absoluteFill, styles.overflow, styles.labelContainer]}\n    >\n      <Animated.View\n        pointerEvents=\"none\"\n        style={[\n          StyleSheet.absoluteFill,\n          Platform.OS !== 'web' && { width },\n          { opacity },\n          labelTranslationX,\n        ]}\n      >\n        <View\n          style={{\n            width: labelWidth,\n          }}\n        >\n          {labelBackground?.({\n            labeled,\n            labelLayoutWidth,\n            labelLayoutHeight,\n            labelStyle,\n            placeholderStyle,\n            baseLabelTranslateX,\n            topPosition,\n            label,\n            backgroundColor,\n            roundness,\n            maxFontSizeMultiplier: maxFontSizeMultiplier,\n            testID,\n          })}\n          <AnimatedText\n            variant=\"bodySmall\"\n            onLayout={onLayoutAnimatedText}\n            onTextLayout={onLabelTextLayout}\n            style={[\n              commonStyles,\n              {\n                color: activeColor,\n              },\n            ]}\n            numberOfLines={1}\n            maxFontSizeMultiplier={maxFontSizeMultiplier}\n            testID={`${testID}-label-active`}\n          >\n            {label}\n          </AnimatedText>\n          <AnimatedText\n            variant={focused ? 'bodyLarge' : 'bodySmall'}\n            style={[\n              commonStyles,\n              {\n                color: textColor,\n                opacity: placeholderOpacity,\n              },\n            ]}\n            numberOfLines={1}\n            maxFontSizeMultiplier={maxFontSizeMultiplier}\n            testID={`${testID}-label-inactive`}\n          >\n            {label}\n          </AnimatedText>\n        </View>\n      </Animated.View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  overflow: {\n    overflow: 'hidden',\n  },\n  labelContainer: {\n    zIndex: 3,\n  },\n});\n\nexport default React.memo(InputLabel);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}