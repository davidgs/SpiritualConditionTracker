{"ast":null,"code":"Object.defineProperty(exports,\"__esModule\",{value:true});exports.registerWebModule=registerWebModule;var _ensureNativeModulesAreInstalled=require(\"./ensureNativeModulesAreInstalled\");function registerWebModule(moduleImplementation,moduleName){var _globalThis$expo;(0,_ensureNativeModulesAreInstalled.ensureNativeModulesAreInstalled)();moduleName=moduleName!=null?moduleName:moduleImplementation.name;if(!moduleName){throw new Error('Web module implementation is missing a name - it is either not a class or has been minified. Pass the name as a second argument to the `registerWebModule` function.');}if(!(globalThis!=null&&(_globalThis$expo=globalThis.expo)!=null&&_globalThis$expo.modules)){globalThis.expo.modules={};}if(globalThis.expo.modules[moduleName]){return globalThis.expo.modules[moduleName];}globalThis.expo.modules[moduleName]=new moduleImplementation();return globalThis.expo.modules[moduleName];}","map":{"version":3,"names":["_ensureNativeModulesAreInstalled","require","registerWebModule","moduleImplementation","moduleName","_globalThis$expo","ensureNativeModulesAreInstalled","name","Error","globalThis","expo","modules"],"sources":["/home/runner/workspace/node_modules/expo-modules-core/src/registerWebModule.ts"],"sourcesContent":["import { ensureNativeModulesAreInstalled } from './ensureNativeModulesAreInstalled';\nimport type { NativeModule } from './ts-declarations/NativeModule';\n\n/**\n * Registers a web module.\n * @param moduleImplementation A class that extends `NativeModule`. The class is registered under `globalThis.expo.modules[className]`.\n * @param moduleName â€“ a name to register the module under `globalThis.expo.modules[className]`.\n * @returns A singleton instance of the class passed into arguments.\n */\n\nexport function registerWebModule<\n  EventsMap extends Record<never, never>,\n  ModuleType extends typeof NativeModule<EventsMap>,\n>(moduleImplementation: ModuleType, moduleName: string): ModuleType {\n  ensureNativeModulesAreInstalled();\n\n  moduleName = moduleName ?? moduleImplementation.name;\n  if (!moduleName) {\n    throw new Error(\n      'Web module implementation is missing a name - it is either not a class or has been minified. Pass the name as a second argument to the `registerWebModule` function.'\n    );\n  }\n  if (!globalThis?.expo?.modules) {\n    globalThis.expo.modules = {};\n  }\n  if (globalThis.expo.modules[moduleName]) {\n    return globalThis.expo.modules[moduleName];\n  }\n  globalThis.expo.modules[moduleName] = new moduleImplementation();\n  return globalThis.expo.modules[moduleName];\n}\n"],"mappings":"qGAAA,IAAAA,gCAAA,CAAAC,OAAA,sCAUO,QAAS,CAAAC,iBAAiBA,CAG/BC,oBAAgC,CAAEC,UAAkB,CAAc,KAAAC,gBAAA,CAClE,GAAAC,gEAA+B,EAAC,CAAC,CAEjCF,UAAU,CAAGA,UAAU,OAAVA,UAAU,CAAID,oBAAoB,CAACI,IAAI,CACpD,GAAI,CAACH,UAAU,CAAE,CACf,KAAM,IAAI,CAAAI,KAAK,CACb,sKACF,CAAC,CACH,CACA,GAAI,EAACC,UAAU,SAAAJ,gBAAA,CAAVI,UAAU,CAAEC,IAAI,SAAhBL,gBAAA,CAAkBM,OAAO,EAAE,CAC9BF,UAAU,CAACC,IAAI,CAACC,OAAO,CAAG,CAAC,CAAC,CAC9B,CACA,GAAIF,UAAU,CAACC,IAAI,CAACC,OAAO,CAACP,UAAU,CAAC,CAAE,CACvC,MAAO,CAAAK,UAAU,CAACC,IAAI,CAACC,OAAO,CAACP,UAAU,CAAC,CAC5C,CACAK,UAAU,CAACC,IAAI,CAACC,OAAO,CAACP,UAAU,CAAC,CAAG,GAAI,CAAAD,oBAAoB,CAAC,CAAC,CAChE,MAAO,CAAAM,UAAU,CAACC,IAAI,CAACC,OAAO,CAACP,UAAU,CAAC,CAC5C","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}