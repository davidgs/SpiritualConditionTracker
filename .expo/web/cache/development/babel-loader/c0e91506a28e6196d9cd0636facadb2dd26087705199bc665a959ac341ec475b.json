{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useUser = exports.default = exports.UserProvider = void 0;\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactNative = require(\"react-native\");\nvar _database = require(\"../utils/database\");\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _this = this,\n  _jsxFileName = \"/home/runner/workspace/src/contexts/UserContext.js\";\nfunction _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\nvar UserContext = (0, _react.createContext)();\nvar UserProvider = exports.UserProvider = function UserProvider(_ref) {\n  var children = _ref.children;\n  var _useState = (0, _react.useState)(null),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var _useState3 = (0, _react.useState)(true),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    isLoading = _useState4[0],\n    setIsLoading = _useState4[1];\n  var _useState5 = (0, _react.useState)(null),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    spiritualFitness = _useState6[0],\n    setSpiritualFitness = _useState6[1];\n  var _useState7 = (0, _react.useState)([]),\n    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n    recentActivities = _useState8[0],\n    setRecentActivities = _useState8[1];\n  (0, _react.useEffect)(function () {\n    var initialize = function () {\n      var _ref2 = (0, _asyncToGenerator2.default)(function* () {\n        try {\n          yield (0, _database.initDatabase)();\n          var users = yield _database.userOperations.getAll();\n          if (users && users.length > 0) {\n            setUser(users[0]);\n            yield loadSpiritualFitness(users[0].id);\n            yield loadRecentActivities(users[0].id);\n          } else {\n            var defaultUser = {\n              name: 'AA Member',\n              email: '',\n              phone: '',\n              sobrietyDate: new Date().toISOString().split('T')[0],\n              homeGroup: '',\n              profileSettings: {\n                privacyEnabled: true,\n                notificationsEnabled: true,\n                reminderTime: 30\n              }\n            };\n            var newUser = yield _database.userOperations.create(defaultUser);\n            setUser(newUser);\n          }\n        } catch (error) {\n          console.error('Error initializing app:', error);\n          _reactNative.Alert.alert('Error', 'Failed to initialize the app. Please restart the app and try again.');\n        } finally {\n          setIsLoading(false);\n        }\n      });\n      return function initialize() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    initialize();\n  }, []);\n  var loadSpiritualFitness = function () {\n    var _ref3 = (0, _asyncToGenerator2.default)(function* (userId) {\n      try {\n        var fitness = yield _database.spiritualFitnessOperations.getForUser(userId);\n        setSpiritualFitness(fitness || {\n          score: 0,\n          breakdown: {}\n        });\n      } catch (error) {\n        console.error('Error loading spiritual fitness:', error);\n      }\n    });\n    return function loadSpiritualFitness(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var loadRecentActivities = function () {\n    var _ref4 = (0, _asyncToGenerator2.default)(function* (userId) {\n      try {\n        var activities = yield _database.activityOperations.getAll({\n          userId: userId,\n          limit: 50\n        });\n        setRecentActivities(activities);\n      } catch (error) {\n        console.error('Error loading recent activities:', error);\n      }\n    });\n    return function loadRecentActivities(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var updateUserProfile = function () {\n    var _ref5 = (0, _asyncToGenerator2.default)(function* (updates) {\n      try {\n        if (!user) return null;\n        var updatedUser = yield _database.userOperations.update(user.id, updates);\n        setUser(updatedUser);\n        return updatedUser;\n      } catch (error) {\n        console.error('Error updating user profile:', error);\n        _reactNative.Alert.alert('Error', 'Failed to update profile. Please try again.');\n        return null;\n      }\n    });\n    return function updateUserProfile(_x3) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var logActivity = function () {\n    var _ref6 = (0, _asyncToGenerator2.default)(function* (activity) {\n      try {\n        if (!user) return null;\n        var activityWithUser = Object.assign({}, activity, {\n          userId: user.id\n        });\n        var newActivity = yield _database.activityOperations.create(activityWithUser);\n        yield loadRecentActivities(user.id);\n        yield recalculateSpiritualFitness();\n        return newActivity;\n      } catch (error) {\n        console.error('Error logging activity:', error);\n        _reactNative.Alert.alert('Error', 'Failed to log activity. Please try again.');\n        return null;\n      }\n    });\n    return function logActivity(_x4) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  var deleteActivity = function () {\n    var _ref7 = (0, _asyncToGenerator2.default)(function* (activityId) {\n      try {\n        var success = yield _database.activityOperations.delete(activityId);\n        if (success) {\n          yield loadRecentActivities(user.id);\n          yield recalculateSpiritualFitness();\n        }\n        return success;\n      } catch (error) {\n        console.error('Error deleting activity:', error);\n        _reactNative.Alert.alert('Error', 'Failed to delete activity. Please try again.');\n        return false;\n      }\n    });\n    return function deleteActivity(_x5) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n  var recalculateSpiritualFitness = function () {\n    var _ref8 = (0, _asyncToGenerator2.default)(function* () {\n      try {\n        if (!user) return null;\n        var allActivities = yield _database.activityOperations.getAll({\n          userId: user.id\n        });\n        var fitness = yield _database.spiritualFitnessOperations.calculateAndSave(user.id, allActivities);\n        setSpiritualFitness(fitness);\n        return fitness;\n      } catch (error) {\n        console.error('Error recalculating spiritual fitness:', error);\n        return null;\n      }\n    });\n    return function recalculateSpiritualFitness() {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n  var contextValue = {\n    user: user,\n    isLoading: isLoading,\n    spiritualFitness: spiritualFitness,\n    recentActivities: recentActivities,\n    updateUserProfile: updateUserProfile,\n    logActivity: logActivity,\n    deleteActivity: deleteActivity,\n    recalculateSpiritualFitness: recalculateSpiritualFitness,\n    loadRecentActivities: loadRecentActivities\n  };\n  return (0, _jsxRuntime.jsx)(UserContext.Provider, {\n    value: contextValue,\n    children: children\n  });\n};\nvar useUser = exports.useUser = function useUser() {\n  var context = (0, _react.useContext)(UserContext);\n  if (!context) {\n    throw new Error('useUser must be used within a UserProvider');\n  }\n  return context;\n};\nvar _default = exports.default = UserContext;","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_database","_jsxRuntime","_this","_jsxFileName","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","UserContext","createContext","UserProvider","exports","_ref","children","_useState","useState","_useState2","_slicedToArray2","user","setUser","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","spiritualFitness","setSpiritualFitness","_useState7","_useState8","recentActivities","setRecentActivities","useEffect","initialize","_ref2","_asyncToGenerator2","initDatabase","users","userOperations","getAll","length","loadSpiritualFitness","id","loadRecentActivities","defaultUser","name","email","phone","sobrietyDate","Date","toISOString","split","homeGroup","profileSettings","privacyEnabled","notificationsEnabled","reminderTime","newUser","create","error","console","Alert","alert","apply","arguments","_ref3","userId","fitness","spiritualFitnessOperations","getForUser","score","breakdown","_x","_ref4","activities","activityOperations","limit","_x2","updateUserProfile","_ref5","updates","updatedUser","update","_x3","logActivity","_ref6","activity","activityWithUser","assign","newActivity","recalculateSpiritualFitness","_x4","deleteActivity","_ref7","activityId","success","delete","_x5","_ref8","allActivities","calculateAndSave","contextValue","jsx","Provider","value","useUser","context","useContext","Error","_default"],"sources":["/home/runner/workspace/src/contexts/UserContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from 'react';\nimport { Alert } from 'react-native';\n\nimport { \n  initDatabase, \n  userOperations, \n  activityOperations,\n  spiritualFitnessOperations\n} from '../utils/database';\n\n// Create the context\nconst UserContext = createContext();\n\n// Provider component\nexport const UserProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [spiritualFitness, setSpiritualFitness] = useState(null);\n  const [recentActivities, setRecentActivities] = useState([]);\n\n  // Initialize database and load user data\n  useEffect(() => {\n    const initialize = async () => {\n      try {\n        // Initialize the database\n        await initDatabase();\n\n        // Check if there's a user in the database already\n        const users = await userOperations.getAll();\n        \n        if (users && users.length > 0) {\n          // Use the first user (for simplicity, we'll assume single-user app for now)\n          setUser(users[0]);\n          \n          // Load spiritual fitness data\n          await loadSpiritualFitness(users[0].id);\n          \n          // Load recent activities\n          await loadRecentActivities(users[0].id);\n        } else {\n          // Create a default user if none exists\n          const defaultUser = {\n            name: 'AA Member',\n            email: '',\n            phone: '',\n            sobrietyDate: new Date().toISOString().split('T')[0],\n            homeGroup: '',\n            profileSettings: {\n              privacyEnabled: true,\n              notificationsEnabled: true,\n              reminderTime: 30 // minutes before meeting\n            }\n          };\n          \n          const newUser = await userOperations.create(defaultUser);\n          setUser(newUser);\n        }\n      } catch (error) {\n        console.error('Error initializing app:', error);\n        Alert.alert('Error', 'Failed to initialize the app. Please restart the app and try again.');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    initialize();\n  }, []);\n\n  /**\n   * Load spiritual fitness data for a user\n   */\n  const loadSpiritualFitness = async (userId) => {\n    try {\n      const fitness = await spiritualFitnessOperations.getForUser(userId);\n      setSpiritualFitness(fitness || { score: 0, breakdown: {} });\n    } catch (error) {\n      console.error('Error loading spiritual fitness:', error);\n    }\n  };\n\n  /**\n   * Load recent activities for a user\n   */\n  const loadRecentActivities = async (userId) => {\n    try {\n      const activities = await activityOperations.getAll({ \n        userId, \n        limit: 50 \n      });\n      setRecentActivities(activities);\n    } catch (error) {\n      console.error('Error loading recent activities:', error);\n    }\n  };\n\n  /**\n   * Update user profile\n   */\n  const updateUserProfile = async (updates) => {\n    try {\n      if (!user) return null;\n      \n      const updatedUser = await userOperations.update(user.id, updates);\n      setUser(updatedUser);\n      return updatedUser;\n    } catch (error) {\n      console.error('Error updating user profile:', error);\n      Alert.alert('Error', 'Failed to update profile. Please try again.');\n      return null;\n    }\n  };\n\n  /**\n   * Log a new activity\n   */\n  const logActivity = async (activity) => {\n    try {\n      if (!user) return null;\n      \n      // Add user ID to activity\n      const activityWithUser = {\n        ...activity,\n        userId: user.id\n      };\n      \n      // Save to database\n      const newActivity = await activityOperations.create(activityWithUser);\n      \n      // Refresh activities list\n      await loadRecentActivities(user.id);\n      \n      // Recalculate spiritual fitness\n      await recalculateSpiritualFitness();\n      \n      return newActivity;\n    } catch (error) {\n      console.error('Error logging activity:', error);\n      Alert.alert('Error', 'Failed to log activity. Please try again.');\n      return null;\n    }\n  };\n\n  /**\n   * Delete an activity\n   */\n  const deleteActivity = async (activityId) => {\n    try {\n      const success = await activityOperations.delete(activityId);\n      \n      if (success) {\n        // Refresh activities list\n        await loadRecentActivities(user.id);\n        \n        // Recalculate spiritual fitness\n        await recalculateSpiritualFitness();\n      }\n      \n      return success;\n    } catch (error) {\n      console.error('Error deleting activity:', error);\n      Alert.alert('Error', 'Failed to delete activity. Please try again.');\n      return false;\n    }\n  };\n\n  /**\n   * Recalculate spiritual fitness\n   */\n  const recalculateSpiritualFitness = async () => {\n    try {\n      if (!user) return null;\n      \n      // Get all activities for calculation\n      const allActivities = await activityOperations.getAll({ userId: user.id });\n      \n      // Calculate and save spiritual fitness\n      const fitness = await spiritualFitnessOperations.calculateAndSave(user.id, allActivities);\n      \n      // Update state\n      setSpiritualFitness(fitness);\n      \n      return fitness;\n    } catch (error) {\n      console.error('Error recalculating spiritual fitness:', error);\n      return null;\n    }\n  };\n\n  // Context value\n  const contextValue = {\n    user,\n    isLoading,\n    spiritualFitness,\n    recentActivities,\n    updateUserProfile,\n    logActivity,\n    deleteActivity,\n    recalculateSpiritualFitness,\n    loadRecentActivities\n  };\n\n  return (\n    <UserContext.Provider value={contextValue}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n\n// Custom hook to use the user context\nexport const useUser = () => {\n  const context = useContext(UserContext);\n  if (!context) {\n    throw new Error('useUser must be used within a UserProvider');\n  }\n  return context;\n};\n\nexport default UserContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}