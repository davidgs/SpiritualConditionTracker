{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useActivities = exports.default = exports.ActivitiesProvider = exports.ACTIVITY_TYPES = void 0;\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactNative = require(\"react-native\");\nvar _database = require(\"../utils/database\");\nvar _UserContext = require(\"./UserContext\");\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _this = this,\n  _jsxFileName = \"/home/runner/workspace/src/contexts/ActivitiesContext.js\";\nfunction _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\nvar ActivitiesContext = (0, _react.createContext)();\nvar ACTIVITY_TYPES = exports.ACTIVITY_TYPES = {\n  meeting: {\n    label: 'AA Meeting',\n    description: 'Attendance at an AA meeting',\n    icon: 'users'\n  },\n  prayer: {\n    label: 'Prayer',\n    description: 'Time spent in prayer',\n    icon: 'hands'\n  },\n  meditation: {\n    label: 'Meditation',\n    description: 'Time spent in meditation',\n    icon: 'spa'\n  },\n  reading: {\n    label: 'Reading',\n    description: 'Reading AA literature',\n    icon: 'book-open'\n  },\n  callSponsor: {\n    label: 'Call Sponsor',\n    description: 'Called your sponsor',\n    icon: 'phone'\n  },\n  callSponsee: {\n    label: 'Call Sponsee',\n    description: 'Called your sponsee',\n    icon: 'phone-forwarded'\n  },\n  service: {\n    label: 'Service',\n    description: 'Service work',\n    icon: 'heart'\n  },\n  stepWork: {\n    label: 'Step Work',\n    description: 'Working on the 12 steps',\n    icon: 'clipboard'\n  }\n};\nvar ActivitiesProvider = exports.ActivitiesProvider = function ActivitiesProvider(_ref) {\n  var children = _ref.children;\n  var _useUser = (0, _UserContext.useUser)(),\n    user = _useUser.user,\n    recalculateSpiritualFitness = _useUser.recalculateSpiritualFitness;\n  var _useState = (0, _react.useState)([]),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    activities = _useState2[0],\n    setActivities = _useState2[1];\n  var _useState3 = (0, _react.useState)(true),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    isLoading = _useState4[0],\n    setIsLoading = _useState4[1];\n  var _useState5 = (0, _react.useState)({}),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    activityStats = _useState6[0],\n    setActivityStats = _useState6[1];\n  (0, _react.useEffect)(function () {\n    if (user) {\n      loadActivities();\n    }\n  }, [user]);\n  var loadActivities = function () {\n    var _ref2 = (0, _asyncToGenerator2.default)(function* () {\n      if (!user) return;\n      try {\n        setIsLoading(true);\n        var userActivities = yield _database.activityOperations.getAll({\n          userId: user.id\n        });\n        setActivities(userActivities);\n        calculateStats(userActivities);\n      } catch (error) {\n        console.error('Error loading activities:', error);\n        _reactNative.Alert.alert('Error', 'Failed to load activities. Please try again.');\n      } finally {\n        setIsLoading(false);\n      }\n    });\n    return function loadActivities() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var calculateStats = function calculateStats(activitiesList) {\n    if (!activitiesList || activitiesList.length === 0) {\n      setActivityStats({});\n      return;\n    }\n    var now = new Date();\n    var thirtyDaysAgo = new Date(now);\n    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\n    var recentActivities = activitiesList.filter(function (activity) {\n      var activityDate = new Date(activity.date);\n      return activityDate >= thirtyDaysAgo;\n    });\n    var byType = {};\n    Object.keys(ACTIVITY_TYPES).forEach(function (type) {\n      byType[type] = recentActivities.filter(function (a) {\n        return a.type === type;\n      }).length;\n    });\n    var totalCount = recentActivities.length;\n    var totalMinutes = recentActivities.reduce(function (sum, activity) {\n      return sum + (activity.duration || 0);\n    }, 0);\n    var mostCommonType = null;\n    var mostCommonCount = 0;\n    Object.entries(byType).forEach(function (_ref3) {\n      var _ref4 = (0, _slicedToArray2.default)(_ref3, 2),\n        type = _ref4[0],\n        count = _ref4[1];\n      if (count > mostCommonCount) {\n        mostCommonType = type;\n        mostCommonCount = count;\n      }\n    });\n    var daysInPeriod = 30;\n    var avgPerDay = totalCount / daysInPeriod;\n    setActivityStats({\n      totalCount: totalCount,\n      totalMinutes: totalMinutes,\n      byType: byType,\n      mostCommonType: mostCommonType,\n      mostCommonCount: mostCommonCount,\n      avgPerDay: avgPerDay\n    });\n  };\n  var addActivity = function () {\n    var _ref5 = (0, _asyncToGenerator2.default)(function* (activityData) {\n      if (!user) return null;\n      try {\n        var activity = {\n          userId: user.id,\n          type: activityData.type || 'meeting',\n          date: activityData.date || new Date().toISOString(),\n          duration: activityData.duration || 0,\n          notes: activityData.notes || ''\n        };\n        var newActivity = yield _database.activityOperations.create(activity);\n        yield loadActivities();\n        recalculateSpiritualFitness();\n        return newActivity;\n      } catch (error) {\n        console.error('Error adding activity:', error);\n        _reactNative.Alert.alert('Error', 'Failed to add activity. Please try again.');\n        return null;\n      }\n    });\n    return function addActivity(_x) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var updateActivity = function () {\n    var _ref6 = (0, _asyncToGenerator2.default)(function* (id, updates) {\n      try {\n        var updatedActivity = yield _database.activityOperations.update(id, updates);\n        if (updatedActivity) {\n          yield loadActivities();\n          recalculateSpiritualFitness();\n        }\n        return updatedActivity;\n      } catch (error) {\n        console.error('Error updating activity:', error);\n        _reactNative.Alert.alert('Error', 'Failed to update activity. Please try again.');\n        return null;\n      }\n    });\n    return function updateActivity(_x2, _x3) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  var deleteActivity = function () {\n    var _ref7 = (0, _asyncToGenerator2.default)(function* (id) {\n      try {\n        var success = yield _database.activityOperations.delete(id);\n        if (success) {\n          yield loadActivities();\n          recalculateSpiritualFitness();\n        }\n        return success;\n      } catch (error) {\n        console.error('Error deleting activity:', error);\n        _reactNative.Alert.alert('Error', 'Failed to delete activity. Please try again.');\n        return false;\n      }\n    });\n    return function deleteActivity(_x4) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n  var filterActivities = function filterActivities() {\n    var filters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!filters || Object.keys(filters).length === 0) {\n      return activities;\n    }\n    return activities.filter(function (activity) {\n      if (filters.type && activity.type !== filters.type) {\n        return false;\n      }\n      if (filters.startDate) {\n        var startDate = new Date(filters.startDate);\n        var activityDate = new Date(activity.date);\n        if (activityDate < startDate) {\n          return false;\n        }\n      }\n      if (filters.endDate) {\n        var endDate = new Date(filters.endDate);\n        var _activityDate = new Date(activity.date);\n        if (_activityDate > endDate) {\n          return false;\n        }\n      }\n      return true;\n    });\n  };\n  var getActivitiesByDate = function getActivitiesByDate(date) {\n    var dateStr = typeof date === 'string' ? date : date.toISOString().split('T')[0];\n    return activities.filter(function (activity) {\n      var activityDateStr = activity.date.split('T')[0];\n      return activityDateStr === dateStr;\n    });\n  };\n  var contextValue = {\n    activities: activities,\n    isLoading: isLoading,\n    activityStats: activityStats,\n    activityTypes: ACTIVITY_TYPES,\n    loadActivities: loadActivities,\n    addActivity: addActivity,\n    updateActivity: updateActivity,\n    deleteActivity: deleteActivity,\n    filterActivities: filterActivities,\n    getActivitiesByDate: getActivitiesByDate\n  };\n  return (0, _jsxRuntime.jsx)(ActivitiesContext.Provider, {\n    value: contextValue,\n    children: children\n  });\n};\nvar useActivities = exports.useActivities = function useActivities() {\n  var context = (0, _react.useContext)(ActivitiesContext);\n  if (!context) {\n    throw new Error('useActivities must be used within an ActivitiesProvider');\n  }\n  return context;\n};\nvar _default = exports.default = ActivitiesContext;","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_database","_UserContext","_jsxRuntime","_this","_jsxFileName","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","ActivitiesContext","createContext","ACTIVITY_TYPES","exports","meeting","label","description","icon","prayer","meditation","reading","callSponsor","callSponsee","service","stepWork","ActivitiesProvider","_ref","children","_useUser","useUser","user","recalculateSpiritualFitness","_useState","useState","_useState2","_slicedToArray2","activities","setActivities","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","activityStats","setActivityStats","useEffect","loadActivities","_ref2","_asyncToGenerator2","userActivities","activityOperations","getAll","userId","id","calculateStats","error","console","Alert","alert","apply","arguments","activitiesList","length","now","Date","thirtyDaysAgo","setDate","getDate","recentActivities","filter","activity","activityDate","date","byType","keys","forEach","type","a","totalCount","totalMinutes","reduce","sum","duration","mostCommonType","mostCommonCount","entries","_ref3","_ref4","count","daysInPeriod","avgPerDay","addActivity","_ref5","activityData","toISOString","notes","newActivity","create","_x","updateActivity","_ref6","updates","updatedActivity","update","_x2","_x3","deleteActivity","_ref7","success","delete","_x4","filterActivities","filters","undefined","startDate","endDate","getActivitiesByDate","dateStr","split","activityDateStr","contextValue","activityTypes","jsx","Provider","value","useActivities","context","useContext","Error","_default"],"sources":["/home/runner/workspace/src/contexts/ActivitiesContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from 'react';\nimport { Alert } from 'react-native';\n\nimport { activityOperations } from '../utils/database';\nimport { useUser } from './UserContext';\n\n// Create the context\nconst ActivitiesContext = createContext();\n\n// Activity types with their labels and descriptions\nexport const ACTIVITY_TYPES = {\n  meeting: {\n    label: 'AA Meeting',\n    description: 'Attendance at an AA meeting',\n    icon: 'users'\n  },\n  prayer: {\n    label: 'Prayer',\n    description: 'Time spent in prayer',\n    icon: 'hands'\n  },\n  meditation: {\n    label: 'Meditation',\n    description: 'Time spent in meditation',\n    icon: 'spa'\n  },\n  reading: {\n    label: 'Reading',\n    description: 'Reading AA literature',\n    icon: 'book-open'\n  },\n  callSponsor: {\n    label: 'Call Sponsor',\n    description: 'Called your sponsor',\n    icon: 'phone'\n  },\n  callSponsee: {\n    label: 'Call Sponsee',\n    description: 'Called your sponsee',\n    icon: 'phone-forwarded'\n  },\n  service: {\n    label: 'Service',\n    description: 'Service work',\n    icon: 'heart'\n  },\n  stepWork: {\n    label: 'Step Work',\n    description: 'Working on the 12 steps',\n    icon: 'clipboard'\n  }\n};\n\n// Provider component\nexport const ActivitiesProvider = ({ children }) => {\n  const { user, recalculateSpiritualFitness } = useUser();\n  const [activities, setActivities] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [activityStats, setActivityStats] = useState({});\n\n  // Load activities when user changes\n  useEffect(() => {\n    if (user) {\n      loadActivities();\n    }\n  }, [user]);\n\n  // Load all activities for the current user\n  const loadActivities = async () => {\n    if (!user) return;\n    \n    try {\n      setIsLoading(true);\n      const userActivities = await activityOperations.getAll({ userId: user.id });\n      setActivities(userActivities);\n      calculateStats(userActivities);\n    } catch (error) {\n      console.error('Error loading activities:', error);\n      Alert.alert('Error', 'Failed to load activities. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Calculate activity statistics\n  const calculateStats = (activitiesList) => {\n    if (!activitiesList || activitiesList.length === 0) {\n      setActivityStats({});\n      return;\n    }\n\n    // Get activities from the last 30 days\n    const now = new Date();\n    const thirtyDaysAgo = new Date(now);\n    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\n\n    const recentActivities = activitiesList.filter(activity => {\n      const activityDate = new Date(activity.date);\n      return activityDate >= thirtyDaysAgo;\n    });\n\n    // Count by type\n    const byType = {};\n    Object.keys(ACTIVITY_TYPES).forEach(type => {\n      byType[type] = recentActivities.filter(a => a.type === type).length;\n    });\n\n    // Total activities\n    const totalCount = recentActivities.length;\n\n    // Total time spent (in minutes)\n    const totalMinutes = recentActivities.reduce((sum, activity) => {\n      return sum + (activity.duration || 0);\n    }, 0);\n\n    // Most common activity type\n    let mostCommonType = null;\n    let mostCommonCount = 0;\n    \n    Object.entries(byType).forEach(([type, count]) => {\n      if (count > mostCommonCount) {\n        mostCommonType = type;\n        mostCommonCount = count;\n      }\n    });\n\n    // Average activities per day\n    const daysInPeriod = 30;\n    const avgPerDay = totalCount / daysInPeriod;\n\n    // Update stats\n    setActivityStats({\n      totalCount,\n      totalMinutes,\n      byType,\n      mostCommonType,\n      mostCommonCount,\n      avgPerDay\n    });\n  };\n\n  // Add a new activity\n  const addActivity = async (activityData) => {\n    if (!user) return null;\n\n    try {\n      // Make sure the activity has the required fields\n      const activity = {\n        userId: user.id,\n        type: activityData.type || 'meeting',\n        date: activityData.date || new Date().toISOString(),\n        duration: activityData.duration || 0,\n        notes: activityData.notes || ''\n      };\n\n      // Save to database\n      const newActivity = await activityOperations.create(activity);\n      \n      // Refresh the activities list\n      await loadActivities();\n      \n      // Recalculate spiritual fitness\n      recalculateSpiritualFitness();\n      \n      return newActivity;\n    } catch (error) {\n      console.error('Error adding activity:', error);\n      Alert.alert('Error', 'Failed to add activity. Please try again.');\n      return null;\n    }\n  };\n\n  // Update an activity\n  const updateActivity = async (id, updates) => {\n    try {\n      const updatedActivity = await activityOperations.update(id, updates);\n      \n      if (updatedActivity) {\n        // Refresh the activities list\n        await loadActivities();\n        \n        // Recalculate spiritual fitness\n        recalculateSpiritualFitness();\n      }\n      \n      return updatedActivity;\n    } catch (error) {\n      console.error('Error updating activity:', error);\n      Alert.alert('Error', 'Failed to update activity. Please try again.');\n      return null;\n    }\n  };\n\n  // Delete an activity\n  const deleteActivity = async (id) => {\n    try {\n      const success = await activityOperations.delete(id);\n      \n      if (success) {\n        // Refresh the activities list\n        await loadActivities();\n        \n        // Recalculate spiritual fitness\n        recalculateSpiritualFitness();\n      }\n      \n      return success;\n    } catch (error) {\n      console.error('Error deleting activity:', error);\n      Alert.alert('Error', 'Failed to delete activity. Please try again.');\n      return false;\n    }\n  };\n\n  // Filter activities by type, date range, etc.\n  const filterActivities = (filters = {}) => {\n    if (!filters || Object.keys(filters).length === 0) {\n      return activities;\n    }\n\n    return activities.filter(activity => {\n      // Filter by type\n      if (filters.type && activity.type !== filters.type) {\n        return false;\n      }\n\n      // Filter by date range\n      if (filters.startDate) {\n        const startDate = new Date(filters.startDate);\n        const activityDate = new Date(activity.date);\n        if (activityDate < startDate) {\n          return false;\n        }\n      }\n\n      if (filters.endDate) {\n        const endDate = new Date(filters.endDate);\n        const activityDate = new Date(activity.date);\n        if (activityDate > endDate) {\n          return false;\n        }\n      }\n\n      // All filters passed\n      return true;\n    });\n  };\n\n  // Get activities by date\n  const getActivitiesByDate = (date) => {\n    const dateStr = typeof date === 'string' ? date : date.toISOString().split('T')[0];\n    \n    return activities.filter(activity => {\n      const activityDateStr = activity.date.split('T')[0];\n      return activityDateStr === dateStr;\n    });\n  };\n\n  // Context value\n  const contextValue = {\n    activities,\n    isLoading,\n    activityStats,\n    activityTypes: ACTIVITY_TYPES,\n    loadActivities,\n    addActivity,\n    updateActivity,\n    deleteActivity,\n    filterActivities,\n    getActivitiesByDate\n  };\n\n  return (\n    <ActivitiesContext.Provider value={contextValue}>\n      {children}\n    </ActivitiesContext.Provider>\n  );\n};\n\n// Custom hook to use the activities context\nexport const useActivities = () => {\n  const context = useContext(ActivitiesContext);\n  if (!context) {\n    throw new Error('useActivities must be used within an ActivitiesProvider');\n  }\n  return context;\n};\n\nexport default ActivitiesContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}