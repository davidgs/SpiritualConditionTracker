# Apache configuration for Expo app proxying
# Place this in your virtual host configuration

# Proxy all /app requests to the Expo server
<LocationMatch "^/app/(.*)$">
    ProxyPass "http://localhost:3243/$1"
    ProxyPassReverse "http://localhost:3243/$1"
</LocationMatch>

# Handle direct bundle requests - redirect to the root bundle
<LocationMatch "^/index.bundle(.*)$">
    Redirect 307 /index.bundle$1 /app/index.bundle$1
</LocationMatch>

# Handle the root app path
<Location "/app">
    ProxyPass "http://localhost:3243/"
    ProxyPassReverse "http://localhost:3243/"
</Location>

# Example of a complete VirtualHost configuration:
# <VirtualHost *:80>
#     ServerName spiritual-condition.com
#     DocumentRoot /var/www/vhosts/spiritual-condition.com/httpdocs
#
#     # Include the proxy configuration above
#     Include /path/to/apache-config-for-expo.conf
#
#     # Add any other configuration as needed
# </VirtualHost>